{% extends 'admin/layouts/apps.html' %}
{% load static %}


{% block content %}
	<!--begin::Content wrapper-->
    <div class="d-flex flex-column flex-column-fluid">
        
        

        {% include 'admin/layouts/breadcrumbs.html' %}

        <!--begin::Content-->
        <div id="kt_app_content" class="app-content flex-column-fluid">
            <!--begin::Content container-->
            <div id="kt_app_content_container" class="app-container container-xxl">
                <!--begin::Form-->
                <form id="create-or-update-vehicle-form" class="form d-flex flex-column flex-lg-row"  method="POST" enctype="multipart/form-data"  action="{% url 'property_management:property_management.create' %}">
                    {% csrf_token %}
    
                    <input type="hidden" name="banner_image_id" value="{{banner_image_obj.id}}" />
                    <input type="hidden" name="banner_image_uuid" value="{{uuid}}" />
                    

                    {% comment %} </div> {% endcomment %}
                    <!--end::Aside column-->
                    <!--begin::Main column-->
                    <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
                        <!--begin::Tab content-->
                        <div class="tab-content">
                            <!--begin::Tab pane-->
                            <div class="tab-pane fade show active" id="create-or-update-property-management" role="tab-panel">
                                <div class="d-flex flex-column gap-7 gap-lg-10" id="property_details_section_div">
    
                                    
                                    <div class="card card-flush py-4">
                                        
                                        <div class="card-header">
                                            <div class="card-title">
                                                <h2>Property details</h2>
                                            </div>
                                        </div>
                                        
                                        <div class="card-body pt-0 ">
                                            <div class="fv-row">
                                                <div class="dropzone " id="vehicle_images_dropzone">
                                                    <div class="dz-message needsclick">
                                                        <i class="bi bi-file-earmark-arrow-up text-primary fs-3x"></i>
                                                        <div class="ms-4">
                                                            <h3 class="fs-5 fw-bold text-gray-900 mb-1">Drop files here or click to upload.</h3>
                                                            {% comment %} <span class="fs-7 fw-semibold text-gray-400">Upload up to 10 files</span> {% endcomment %}
                                                        </div>
                                                       
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Tab pane-->
                        </div>
                        <!--end::Tab content-->
                        <div class="d-flex justify-content-end">
                            <!--begin::Button-->
                            <a href="{% url 'property_management:property_management.index' %}" class="btn btn-light me-5">Cancel</a>
                            <!--end::Button-->
                            <!--begin::Button-->
                            <button type="submit" id="create-or-update-vehicle-submit" class="btn btn-primary">
                                <span class="indicator-label">Save </span>
                                <span class="indicator-progress">Please wait... 
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
                            </button>
                            <!--end::Button-->
                        </div>
                    </div>
                    <!--end::Main column-->
                </form>
                <!--end::Form-->
            </div>
            <!--end::Content container-->
        </div>
        <!--end::Content-->
    </div>
    <!--end::Content wrapper-->
	
{% endblock content %}



{% block script %}
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCnDgIL3Hp0Bhzf9yuOtn4qAIVnAnzvRJE&libraries=places" ></script>


    <script>
        var api_config = {
            "banner_image_upload_api_url": "{% url 'banner_image:banner_image.image.upload' %}",
            "uuid" : "{{uuid}}",
            "csrfmiddlewaretoken" : "{{ csrf_token }}",
            "temporary_image_destroy_api_url" : "{% url 'property_management:property_management.temporary.image.destroy' %}",
            "get_property_images_api_url" : "{% url 'property_management:get.property_management.images' %}",
            
            "property_management_id" : "{{property_management_obj.id}}",
            "location_data" : {
                "latitude" : "{{property_management_obj.latitude}}",
                "longitude" : "{{property_management_obj.longitude}}",
            },
        }
    </script>

    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Div Example</title>

</head>

</html>

<script>

    $(document).ready(function(){
        Inputmask({
            mask: "*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}[.*{2,6}][.*{1,2}]",
            greedy: false,
            onBeforePaste: function (pastedValue, opts) {
                pastedValue = pastedValue.toLowerCase();
                return pastedValue.replace("mailto:", "");
            },
            definitions: {
                "*": {
                    validator: '[0-9A-Za-z!#$%&"*+/=?^_`{|}~\-]',
                    cardinality: 1,
                    casing: "lower"
                }
            }
        }).mask("#account_holder_email");
        
        new Tagify(document.querySelector("#meta_keywords"));
        $('#account_number').maxlength({
            warningClass: "badge badge-warning",
            limitReachedClass: "badge badge-success"
        });

        Inputmask({
            "mask" :  "+(974)-9999-9999"
        }).mask("#contact_number");
    });
</script>



<script>
    function onlyNumberKey(evt) {
          
        // Only ASCII character in that range allowed
        var ASCIICode = (evt.which) ? evt.which : evt.keyCode
        if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))
            return false;
        return true;
    }

    // in load show property details only





    
    


</script>
    
    <script src="{% static 'assets/js/custom/pages/home-page/property-management/banner-image/create-or-update-banner-image.js' %}?time={% now 'h:i:s' %}"></script>




  
{% endblock script %}
